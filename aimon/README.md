# AI Activity Monitor Ecosystem

一个基于微服务架构的智能工作助手生态系统，通过模块化的方式监控和分析用户的PC活动，提供工作总结、提醒和效率优化建议。

## 🎯 项目目标

通过监控用户的PC活动（键盘输入、鼠标操作、屏幕内容），构建一个全面了解用户工作状态的AI助手，实现：

- **实时工作总结**: 自动整理用户当前的工作内容和进度
- **智能提醒**: 基于工作模式提供及时的休息、任务切换提醒
- **效率分析**: 分析工作习惯，提供效率优化建议
- **上下文感知**: 理解用户当前的工作环境和任务类型

## 🏗️ 微服务架构设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           AI Activity Monitor 生态系统                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   核心监控层     │  │   数据处理层     │  │   AI服务层      │              │
│  ├─────────────────┤  ├─────────────────┤  ├─────────────────┤              │
│  │ input-monitor   │──│ activity-parser │──│ ai-summarizer   │              │
│  │ ime-adapter     │  │ behavior-analyzer│  │ smart-reminder  │              │
│  │ context-detector│  │                 │  │                 │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
│           │                     │                     │                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   数据存储层     │  │   应用界面层     │  │    配置中心     │              │
│  ├─────────────────┤  ├─────────────────┤  ├─────────────────┤              │
│  │ activity-db     │──│ monitor-dashboard│  │ 消息队列        │              │
│  │                 │  │ ai-assistant-ui │  │ API网关         │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 📦 微服务模块详解

### 核心监控层

#### 1. **input-monitor** 🎯
- **职责**: 跨平台的键盘、鼠标、屏幕监控
- **功能**: 
  - 实时捕获各类输入事件
  - 标准化事件数据格式
  - 跨平台兼容性封装
- **输出**: 标准化的事件数据流
- **仓库**: `input-monitor`

#### 2. **ime-adapter** 🔤
- **职责**: 输入法适配和文本重构
- **功能**:
  - 解决输入法转换问题
  - 支持多语言输入检测
  - 原始按键到实际文本的映射
- **输出**: 重构后的文本内容
- **仓库**: `ime-adapter`

#### 3. **context-detector** 📱
- **职责**: 应用识别、窗口分析、工作环境检测
- **功能**:
  - 应用程序识别和分类
  - 窗口标题和内容分析
  - 工作模式自动识别
- **输出**: 上下文元数据
- **仓库**: `context-detector`

### 数据处理层

#### 4. **activity-parser** 📊
- **职责**: 原始监控数据的结构化处理
- **功能**:
  - 数据清洗和格式化
  - 时间线构建
  - 活动事件关联
- **输出**: 结构化的用户行为数据
- **仓库**: `activity-parser`

#### 5. **behavior-analyzer** 🧠
- **职责**: 行为模式分析和工作状态识别
- **功能**:
  - 工作效率指标计算
  - 行为模式识别
  - 异常行为检测
- **输出**: 分析报告和洞察
- **仓库**: `behavior-analyzer`

### AI服务层

#### 6. **ai-summarizer** 📝
- **职责**: 基于活动数据生成工作总结
- **功能**:
  - 自然语言总结生成
  - 关键活动提取
  - 个性化报告定制
- **输出**: 自然语言总结报告
- **仓库**: `ai-summarizer`

#### 7. **smart-reminder** ⏰
- **职责**: 智能提醒和建议生成
- **功能**:
  - 基于行为模式的智能提醒
  - 效率优化建议
  - 个性化通知策略
- **输出**: 个性化提醒和建议
- **仓库**: `smart-reminder`

### 应用界面层

#### 8. **monitor-dashboard** 📈
- **职责**: 实时监控面板和数据可视化
- **功能**:
  - 实时数据展示
  - 交互式图表
  - 系统状态监控
- **技术**: Electron + React
- **仓库**: `monitor-dashboard`

#### 9. **ai-assistant-ui** 🤖
- **职责**: AI助手交互界面
- **功能**:
  - 聊天式交互界面
  - 通知系统
  - 个性化设置
- **技术**: 现代前端框架
- **仓库**: `ai-assistant-ui`

### 数据存储层

#### 10. **activity-db** 🗄️
- **职责**: 统一的数据存储和查询接口
- **功能**:
  - 数据持久化
  - 查询API接口
  - 数据备份和恢复
- **技术**: SQLite + RESTful API
- **仓库**: `activity-db`

## 🔄 微服务通信架构

### 通信方式
- **事件驱动**: 基于消息队列的异步通信
- **REST API**: 模块间标准HTTP接口
- **WebSocket**: 实时数据推送

### 数据流向
```
input-monitor → activity-parser → behavior-analyzer
      ↓              ↓                    ↓
ime-adapter → activity-db ← smart-reminder
      ↓              ↓                    ↓
context-detector → ai-summarizer → monitor-dashboard
                                  → ai-assistant-ui
```

### 配置管理
- **统一配置中心**: 集中管理所有模块配置
- **环境隔离**: 开发/测试/生产环境配置分离
- **动态更新**: 支持运行时配置热更新

## 🚀 开发路线图

### Phase 1: 基础设施 (MVP) - 2-3个月
**目标**: 建立核心监控和存储能力
- [ ] `input-monitor` - 基础键盘鼠标监控
- [ ] `activity-db` - 数据存储和API
- [ ] `monitor-dashboard` - 基础监控界面
- [ ] 微服务通信框架搭建

**里程碑**: 能够监控并可视化基本的用户活动

### Phase 2: 核心功能 - 3-4个月
**目标**: 实现智能文本处理和基础AI功能
- [ ] `ime-adapter` - 输入法适配核心功能
- [ ] `activity-parser` - 数据清洗和结构化
- [ ] `ai-summarizer` - 基础工作总结功能
- [ ] `context-detector` - 应用和窗口识别

**里程碑**: 能够生成有意义的工作总结

### Phase 3: 智能分析 - 3-4个月
**目标**: 增强AI分析和用户体验
- [ ] `behavior-analyzer` - 深度行为模式分析
- [ ] `smart-reminder` - 智能提醒系统
- [ ] `ai-assistant-ui` - AI交互界面
- [ ] 跨模块数据流优化

**里程碑**: 提供个性化的工作优化建议

### Phase 4: 生态完善 - 2-3个月
**目标**: 平台化和生态建设
- [ ] 插件系统开发
- [ ] 第三方应用集成SDK
- [ ] 移动端companion应用
- [ ] 高级数据分析和机器学习

**里程碑**: 形成完整的智能工作助手生态

## 🛠️ 技术栈选择

### 核心监控层
- **input-monitor**: Rust/Go (高性能系统监控)
- **ime-adapter**: C++/Python (系统API集成)
- **context-detector**: Python/Node.js (应用分析)

### 数据处理层
- **activity-parser**: Python (数据科学生态)
- **behavior-analyzer**: Python + scikit-learn/pandas
- **activity-db**: SQLite + FastAPI/Express

### AI服务层
- **ai-summarizer**: Python + Transformers/spaCy
- **smart-reminder**: Python + 规则引擎

### 界面层
- **monitor-dashboard**: React + Electron/Tauri
- **ai-assistant-ui**: React/Vue + Electron

### 基础设施
- **消息队列**: Redis/RabbitMQ
- **API网关**: Nginx/Traefik
- **配置中心**: etcd/Consul

## ⚠️ 关键技术挑战

### 挑战1: 输入法转换问题
**核心难点**: 键盘输入与最终文本不匹配

**ime-adapter解决方案**:
1. **系统钩子**: 挂钩输入法API获取转换结果
2. **剪贴板监控**: 辅助捕获实际输入文本
3. **应用程序集成**: 针对特定应用的文本捕获
4. **机器学习推测**: 基于上下文智能推测

### 挑战2: 微服务协调
**解决方案**:
- 事件驱动架构避免紧耦合
- 统一的数据格式和API标准
- 服务发现和健康检查
- 分布式配置管理

### 挑战3: 性能与隐私
**解决方案**:
- 本地处理，数据不上传
- 智能采样和批处理
- 敏感信息过滤
- 资源使用监控和限制

## 📋 系统要求

- **Windows**: Windows 10+ (WinAPI支持)
- **macOS**: macOS 10.15+ (Accessibility权限)
- **Linux**: X11/Wayland支持
- **内存**: 最少512MB RAM
- **存储**: 最少1GB可用空间

## 🔒 隐私声明

本项目承诺：
- 所有数据仅在本地处理和存储
- 不收集、传输用户个人信息
- 用户完全控制数据的使用和删除
- 开源透明，接受社区审计

## 🚀 快速开始

### 本地开发环境搭建

```bash
# 克隆主仓库
git clone https://github.com/yourusername/ai-activity-monitor
cd ai-activity-monitor

# 初始化所有子模块
./scripts/init-all.sh

# 启动开发环境
docker-compose up -d
```

### 单模块开发

```bash
# 开发特定模块
cd modules/input-monitor
npm install / pip install -r requirements.txt
npm run dev / python main.py
```

## 🤝 贡献指南

### 项目贡献流程
1. **选择模块**: 根据兴趣和技能选择要贡献的微服务
2. **Fork仓库**: Fork对应的子项目仓库
3. **功能开发**: 在feature分支上开发新功能
4. **测试验证**: 确保单元测试和集成测试通过
5. **提交PR**: 向对应仓库提交Pull Request

### 特别需要的贡献
- **输入法适配**: 各种输入法的兼容性改进
- **跨平台支持**: macOS/Linux平台的适配
- **AI模型优化**: 本地LLM的效率提升
- **用户体验**: 界面设计和交互优化
- **安全隐私**: 数据保护和安全审计

### 开发规范
- 遵循各模块的代码规范
- 补充单元测试
- 更新相关文档
- 保持API向后兼容

## 📂 仓库结构

```
ai-activity-monitor/
├── README.md                 # 主项目说明
├── docs/                     # 文档目录
├── docker-compose.yml        # 开发环境配置
├── scripts/                  # 工具脚本
│   ├── init-all.sh          # 初始化所有模块
│   └── deploy.sh            # 部署脚本
└── modules/                  # 子模块目录
    ├── input-monitor/        # 监控模块
    ├── ime-adapter/          # 输入法适配
    ├── context-detector/     # 上下文检测
    ├── activity-parser/      # 数据解析
    ├── behavior-analyzer/    # 行为分析
    ├── ai-summarizer/        # AI总结
    ├── smart-reminder/       # 智能提醒
    ├── monitor-dashboard/    # 监控面板
    ├── ai-assistant-ui/      # AI助手界面
    └── activity-db/          # 数据存储
```

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🙋‍♂️ FAQ

**Q: 为什么要拆分成这么多微服务？**
A: 微服务架构让每个模块职责单一，便于独立开发、测试和部署，也方便社区贡献特定领域的专业知识。

**Q: 这个软件会记录我的密码吗？**
A: 不会。系统内置敏感信息检测，自动过滤密码字段和其他敏感数据。

**Q: 支持哪些输入法？**
A: ime-adapter模块专门负责输入法适配，目前重点支持主流中文输入法，未来会扩展到更多语言。

**Q: 数据会上传到云端吗？**
A: 不会。所有数据仅在本地处理，除非用户明确选择可选的云同步功能。

**Q: 如何只运行我需要的模块？**
A: 每个模块都是独立的，你可以选择性地部署和运行特定模块，通过配置文件控制模块间的依赖关系。

**Q: 系统资源占用如何？**
A: 采用智能采样和批处理技术，正常使用下内存占用小于512MB，CPU占用小于5%。

**Q: 支持哪些操作系统？**
A: 目前优先支持Windows，macOS和Linux支持在roadmap中。

---

*让AI成为你的智能工作伙伴 🤖*
